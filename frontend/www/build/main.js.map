{"version":3,"sources":["../../src/pages/feedi/feedi.ts","../../src/providers/camera/camera.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/pic/pic.ts","../../src/providers/feedback/feedback.ts","../../src/pages/cam/cam.ts","../../src/providers/user/user.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/comment-form/comment-form.ts","../../src/components/tabs/tabs.ts","../../src/pages/home/home.ts","../../src/providers/pictures/pictures.ts","../../src/pages/me/me.ts","../../src/pages/up-load-pic/up-load-pic.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["//import { SettingsPage } from './../settings-page/settings-page';\r\n//import { Storage } from '@ionic/storage';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\n//import firebase from 'firebase';\r\nimport { PicPage } from '../../pages/pic/pic';\r\nimport { User } from '../../providers/user/user';\r\nimport { Pictures } from '../../providers/pictures/pictures';\r\n//import { CameraPreview } from '@ionic-native/camera-preview';\r\n//import { CamPage } from '../cam/cam';\r\nimport { MePage } from '../me/me';\r\n//import { Platform } from 'ionic-angular';\r\nimport { MenuController } from 'ionic-angular';\r\nimport { CameraProvider } from '../../providers/camera/camera';\r\nimport { UpLoadPicPage } from '../../pages/up-load-pic/up-load-pic';\r\nimport { Firebase } from '@ionic-native/firebase';\r\n//Melina kävi laittaa tännekin ton Http ja Pictures 7.11.2017\r\n@Component({\r\n  selector: 'page-feedi',\r\n  templateUrl: 'feedi.html',\r\n\r\n})\r\nexport class FeediPage {\r\n  public spinState: String = 'first';\r\n\r\n  // Melina sorkki tätä 7.11.2017\r\n  constructor(\r\n    public user: User,\r\n    public navCtrl: NavController,\r\n    public pictureService: Pictures,\r\n    public modalCtrl: ModalController,\r\n    //private platform: Platform,\r\n    //private storage: Storage,\r\n    public menuCtrl: MenuController,\r\n    private camProvider: CameraProvider,\r\n    private firebase: Firebase\r\n\r\n  ) {\r\n    //  this.user.googleLogout(); //kirjautuu ulos ja poistaa lokaalit käyttäjätiedot. tämä on testiä varten. \r\n    this.user.getLocalUserData();\r\n    console.log(\"get userdata...\");\r\n    console.log(this.user.localUser);\r\n    // Load newest feed, then start observing notifications,\r\n    // if add was opened from notif, opens picture \r\n    this.pictureService.loadFeed().then(res=>{\r\n      //*\r\n      this.firebase.onNotificationOpen()\r\n      .subscribe((notif) => {\r\n        console.log(\"Notification opened\");\r\n        console.log(notif);\r\n        this.notificationReceived(notif);\r\n      }); //*/\r\n    });\r\n  }\r\n\r\n  openMenu() {\r\n    this.menuCtrl.open();\r\n    //  this.user.googleLogout(); \r\n  }\r\n\r\n    \r\n  type: string = \"default\";\r\n  \r\n  reloadFeed(type) {\r\n    this.type = type;\r\n    console.log(this.type);\r\n    this.pictureService.pictureList = [];\r\n    this.pictureService.feedType = this.type;\r\n    this.pictureService.loadFeed();\r\n    this.menuCtrl.close();\r\n  }\r\n\r\n  logout() {\r\n    this.user.googleLogout();\r\n  //  this.menuCtrl.close();\r\n  }\r\n\r\n  login() {\r\n    this.user.googleLogin();\r\n   // this.menuCtrl.close();\r\n  }\r\n\r\n\r\n\r\n  ionViewDidEnter() {\r\n    this.menuCtrl.swipeEnable(true);\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.menuCtrl.swipeEnable(false);\r\n  }\r\n\r\n  // Refresh feedPage\r\n  doRefresh(refresher) {\r\n    console.log(\"Refresh feed\");\r\n    this.pictureService.loadFeed();\r\n    refresher.complete();\r\n  }\r\n\r\n  notificationReceived(data) {\r\n    // if user tapped notification\r\n    if (data.tap) {\r\n      this.navCtrl.popToRoot();\r\n      this.pictureService.getPicture(data.pic_id).then((picData) => {\r\n        // check if pic is in current list\r\n        var index = -1;\r\n        for(var i=0; i<this.pictureService.pictureList.length;i++){\r\n          if(this.pictureService.pictureList[i]._id===picData._id){\r\n            index = i;\r\n            i = this.pictureService.pictureList.length;\r\n          }\r\n        }\r\n        console.log(\"Pic index: \"+index);\r\n        // if not in list add to some index (not first or last, so extend functions still wors as expected)\r\n        if(index<0){\r\n          console.log(\"Pic not in list, adding to position 1\")\r\n          this.pictureService.pictureList.splice(1,0,picData);\r\n        }\r\n        console.log(\"Pic loaded using notification data, tryion to open\")\r\n        console.log(picData);\r\n        this.openPicPage(picData);\r\n      });\r\n    }\r\n  }\r\n\r\n  openPicPage(data) {\r\n    console.log(\"pushing to picpage using:\");\r\n    console.log(data);\r\n    this.navCtrl.push(PicPage, { paramData: data }); // avaa kommenttisivun kuvaa klikatessa\r\n    //this.navCtrl.push(UpLoadPicPage, {paramPic: this.base64Image, paramData: this.image_data});\r\n  }\r\n\r\n  /*\r\n  getPhotoURL(date: string, name: string) {  // Parametrina kuvan paivamaara, nimi ja elementin ID, ATM asettaa kuvan 'myimg' ID:llä varustettuun elementtiin\r\n    var photoRef = this.storageRef.child('/Photos/' + date + '/' + name); // Kuvan sijainnin muodostaminen data-bucketissa\r\n    photoRef.getDownloadURL().then(function (url) {  // Kuvan URL osoitteen haku/muodostus\r\n      var img;\r\n      img.setAttribute('src', url);\r\n      return photoRef;\r\n    });\r\n  }\r\n*/\r\n  pushPage(name) {\r\n    if (name === \"feedi\") {\r\n      this.navCtrl.popToRoot();\r\n    } else if (name === 'camera') {\r\n      if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n        this.camProvider.takePhoto().then(res => {\r\n          console.log(\"CAmera result:\");\r\n          console.log(res);\r\n          if (res) this.navCtrl.push(UpLoadPicPage, res);\r\n        });\r\n      } else this.user.loginAlert();\r\n    } else if (name === 'me') {\r\n      if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n\r\n        this.user.checkTokenValidity().then(res => {\r\n          this.navCtrl.push(MePage);\r\n        });\r\n      } else { console.log(\"User invalid\"); this.user.loginAlert(); }\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n} \n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedi/feedi.ts","import { Injectable } from '@angular/core';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\n\r\n\r\n@Injectable()\r\n//@Component({})\r\nexport class CameraProvider {\r\n    private image_data;\r\n    private base64Image;\r\n\r\n    constructor(\r\n            //private cameraPreview: CameraPreview,\r\n    private camera: Camera\r\n\r\n      ) {\r\n      }\r\n\r\n      \r\n      takePhoto(): Promise<any> { // funktio kuvan ottamiseen\r\n    \r\n        const options: CameraOptions = {  // kuvan asetukset\r\n          quality: 80,  // laatu / skaalaus\r\n          destinationType: this.camera.DestinationType.DATA_URL,\r\n          sourceType: this.camera.PictureSourceType.CAMERA,\r\n          encodingType: this.camera.EncodingType.JPEG,\r\n          mediaType: this.camera.MediaType.PICTURE,\r\n          targetHeight: 800, // haluttu korkeus ja leveys 1080??\r\n          targetWidth: 800,\r\n          allowEdit: true,\r\n          saveToPhotoAlbum: false // tallennetaanko kuva puhelimeen, kuva nakyy galleriassa yms\r\n          //cameraDirection: this.camera.Direction.BACK\r\n        }\r\n        return this.camera.getPicture(options).then(imageData => { // Varsinainen kuvan otto\r\n          this.image_data = imageData;\r\n          this.base64Image = \"data:image/jpeg;base64,\" + imageData;   // tallentaa kuvan muuttujaan base64-muodossa (teksti muotoinen kuva) \r\n          // return this.image_data;\r\n          return { paramPic: this.base64Image, paramData: this.image_data }; // siirtyy seuraavalle sivulle ja ottaa parametrina mukaan kuvan\r\n          // console.log(\"Push done! camPage\");\r\n        }, (err) => {\r\n          console.log(\"Error in photo taking\");\r\n          console.log(err);\r\n        });\r\n      }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/camera/camera.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 118;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 118\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 161\n// module chunks = 0","import { CameraOptions, Camera } from '@ionic-native/camera';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, PopoverController } from 'ionic-angular';\r\n// import { Observable } from 'rxjs/Observable';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { User } from '../../providers/user/user';\r\n// Melina kävi laittaa observarble, map ja Http\r\nimport { Pictures } from '../../providers/pictures/pictures';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { UpLoadPicPage } from '../up-load-pic/up-load-pic';\r\nimport { MePage } from '../me/me';\r\nimport { CommentFormPage } from '../comment-form/comment-form'\r\n//import { Placeholder } from '@angular/compiler/src/i18n/i18n_ast';\r\n\r\n\r\n@Component({\r\n  selector: 'page-pic',\r\n  templateUrl: 'pic.html'\r\n})\r\nexport class PicPage {\r\n  //localData: any;\r\n  //localArray: [any];\r\n  curIndex: number;\r\n  sendComment: any = \"\";\r\n  id: string;\r\n  picture: any;\r\n  loaded: boolean = false;\r\n  picScore: number = 0;\r\n  comScore: number = 0;\r\n  placeHolder: String = 'Write something nice';\r\n  //data : any;\r\n\r\n  //comments: Observable<any>;\r\n\r\n  constructor(\r\n\r\n    private camera: Camera,\r\n    public navCtrl: NavController,\r\n    public http: Http,\r\n    // public pictures: Pictures,\r\n    public navParams: NavParams,\r\n    private pictures: Pictures,\r\n    public alertCtrl: AlertController,\r\n    private user: User,\r\n    private popoverCtrl: PopoverController,\r\n    // public slides:Slides\r\n  ) {\r\n    // ATM KUVA base64 muodossa kuva objection 'name' attribuutissa\r\n    this.picture = this.navParams.get('paramData');\r\n    //this.localArray = this.navParams.get('paramArray');\r\n    this.curIndex = -1;\r\n        for(var i=0; i<this.pictures.pictureList.length;i++){\r\n          if(this.pictures.pictureList[i]._id===this.picture._id){\r\n            this.curIndex = i;\r\n            i = this.pictures.pictureList.length;\r\n          }\r\n        }\r\n        \r\n    console.log(this.pictures.pictureList[this.curIndex]);\r\n    //this.localData = this.pictures.pictureList[this.curIndex];\r\n    //this.picture = this.pictures.pictureList[this.curIndex];\r\n    //this.data = null; localArray[curIndex] pictures.pictureList[curIndex]\r\n    this.loaded = true;\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log(\"kuvasivu ladattu\");\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.loaded = false;\r\n    this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n  }\r\n  // kuvien välillä swaippaus\r\n  swipeEvent(e) {\r\n    var index = 0;\r\n    if (e.direction === 2) {\r\n      index = this.curIndex + 1;\r\n      // jos taulusta loppuu kuvat sitä jatketaan,haetaan lisää kuvia\r\n      if (index >= this.pictures.pictureList.length) {\r\n        this.pictures.extendPictures().then((data) => {\r\n          // jos index menee yli taulun pituuden ja vanhempia kuvia ei löydy, indeksi asetetaan nollaksi\r\n          if (index >= this.pictures.pictureList.length) {\r\n            index = 0;\r\n            console.log(\"No older pictures available, jump to newest pic\")\r\n          }\r\n          //this.picture = this.pictures.pictureList[index];\r\n          this.curIndex = index;\r\n          this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n        });\r\n      } else {\r\n        this.curIndex = index;\r\n        this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n      }\r\n    }\r\n    if (e.direction === 4) {\r\n      index = this.curIndex - 1;\r\n      // jos index menee alle nollan asetetaan taulun viimeiseen\r\n      if (index < 0) index = 0;//this.pictures.pictureList.length - 1; \r\n      // this.picture = this.pictures.pictureList[index];\r\n      this.curIndex = index;\r\n      this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n    }\r\n    /*\r\n    var index=0;\r\n    if (e.direction == 2) {\r\n      index = this.curIndex+1;\r\n      if(index>=this.localArray.length) index=0;\r\n      this.navCtrl.push(PicPage, { paramData: this.localArray[index], paramArray: this.localArray });\r\n    }\r\n    if (e.direction == 4) {\r\n      index = this.curIndex-1;\r\n      if(index<0) index=this.localArray.length-1;\r\n      this.navCtrl.push(PicPage, { paramData: this.localArray[index], paramArray: this.localArray });\r\n    }\r\n    */\r\n  }\r\n\r\n  loadContent(id) {\r\n    //this.loaded = false;\r\n    // hae data tietokannasta avatulle kuvalle\r\n    this.pictures.getPicture(id).then((dataLocal) => {\r\n      dataLocal.name= this.pictures.pictureList[this.curIndex].name;\r\n      console.log(dataLocal);\r\n      this.pictures.pictureList[this.curIndex] = dataLocal;\r\n      this.calcPicScore();\r\n      console.log(this.pictures.pictureList[this.curIndex].comments.length);\r\n      this.handleContent();\r\n\r\n    });\r\n  }\r\n\r\n  handleContent() {\r\n\r\n    //Käsittele data: laske scoret ja tarkista mitä käyttäjä on jo äänestänyt\r\n    for (var i = 0; i < this.pictures.pictureList[this.curIndex].comments.length; i++) {\r\n      // Laskee total score commentille ja tallenna se \r\n      //console.log('laske score kommentille ' + i);\r\n      this.calcComScore(this.pictures.pictureList[this.curIndex].comments[i].upvotes, this.pictures.pictureList[this.curIndex].comments[i].downvotes);\r\n      this.pictures.pictureList[this.curIndex].comments[i].score = this.comScore;\r\n      // anna \"vakio\" arvoksi äänestämiselle ei äänestänyt\r\n      this.pictures.pictureList[this.curIndex].comments[i].hasVotedUp = false;\r\n      this.pictures.pictureList[this.curIndex].comments[i].hasVotedDown = false;\r\n      // tarkista löytyykö nimi upvoters listasta\r\n      for (var u = 0; u < this.pictures.pictureList[this.curIndex].comments[i].upvoters.length; u++) {\r\n        if (this.user.localUser.data.userID === this.pictures.pictureList[this.curIndex].comments[i].upvoters[u]) {\r\n          this.pictures.pictureList[this.curIndex].comments[i].hasVotedUp = true;\r\n        }\r\n      }\r\n      // jos .hasVoteUp edelleen false tarkista downvoters lista, jos jo äänestänyt ei tarvetta tarkistaa\r\n      if (!this.pictures.pictureList[this.curIndex].comments[i].hasVotedUp) {\r\n        // console.log(\"tarkista downvoters commenttisas\");\r\n        for (var y = 0; y < this.pictures.pictureList[this.curIndex].comments[i].downvoters.length; y++) {\r\n          if (this.user.localUser.data.userID === this.pictures.pictureList[this.curIndex].comments[i].downvoters[y]) {\r\n            this.pictures.pictureList[this.curIndex].comments[i].hasVotedDown = true;\r\n          }\r\n        }\r\n      }\r\n      //console.log(\"User has voted comment \" + i + \" ? \" + this.picture.comments[i].hasVoted);\r\n    }\r\n    // laske score kuvalle\r\n    // upvoters lista:\r\n    this.pictures.pictureList[this.curIndex].hasVotedUp = false; // default false\r\n    this.pictures.pictureList[this.curIndex].hasVotedDown = false; // default false\r\n    // tarkista onko käyttäjä jo äänestänyt kuvaa\r\n    if (!this.pictures.pictureList[this.curIndex].hasVotedUp) {\r\n      for (var pi = 0; pi < this.pictures.pictureList[this.curIndex].upvoters.length; pi++) {\r\n        if (this.user.localUser.data.userID === this.pictures.pictureList[this.curIndex].upvoters[pi]) {\r\n          this.pictures.pictureList[this.curIndex].hasVotedUp = true;\r\n        }\r\n      }\r\n    }\r\n    if (!this.pictures.pictureList[this.curIndex].hasVotedDown) {  // ja downvoters\r\n      for (var py = 0; py < this.pictures.pictureList[this.curIndex].downvoters.length; py++) {\r\n        if (this.user.localUser.data.userID === this.pictures.pictureList[this.curIndex].downvoters[py]) {\r\n          this.pictures.pictureList[this.curIndex].hasVotedDown = true;\r\n        }\r\n      }\r\n    }\r\n    //console.log(\"User has voted picture ? \" + this.pictures.pictureList[this.curIndex].hasVoted);\r\n    // Lataa html kun kaikki data haettu ja käsitelty\r\n    //console.log(this.pictures.pictureList[this.curIndex]);\r\n    this.loaded = true;\r\n    console.log(this.pictures.pictureList[this.curIndex]);\r\n  }\r\n\r\n  presentCommentForm() {\r\n    let popover = this.popoverCtrl.create(CommentFormPage, { pId: this.pictures.pictureList[this.curIndex]._id }, { cssClass: 'commentPopover', showBackdrop: true, enableBackdropDismiss: false });\r\n    popover.present();  // kommentointi ikkunan näyttö\r\n    popover.onDidDismiss(() => {\r\n      this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n    });\r\n  }\r\n\r\n  showReportAlert() {\r\n    let prompt = this.alertCtrl.create({\r\n      title: 'Reason to snitch:', // Why the hatred?, Reason to snitch:\r\n      inputs: [\r\n        {\r\n          type: 'radio',\r\n          label: 'Unwanted shapes or nudity', // alastomuus\r\n          value: 'Unwanted shapes or nudity'  // Unwanted shapes or nudity, Too much skin\r\n        },\r\n        {\r\n          type: 'radio',\r\n          label: \"Personal information\",  // henkilö tietoja\r\n          value: 'Personal information'   // Too much information, Personal information\r\n        },\r\n        {\r\n          type: 'radio',\r\n          label: \"It's MEAN\", // kiusaaminen / syrjintä\r\n          value: 'Its MEAN'\r\n        },\r\n        {\r\n          type: 'radio',\r\n          label: \"This must be illegal\", // laiton sisältö\r\n          value: 'Illegal content'\r\n        },\r\n        {\r\n          type: 'radio',\r\n          label: \"Just for fun\", // ei syytä\r\n          value: 'No reason'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Snitch',\r\n          handler: data => {\r\n            this.trashPic(data);\r\n            return true;\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    prompt.present();\r\n  }\r\n\r\n\r\n  calcPicScore() {\r\n    console.log(\"laske score kuvalle\");\r\n    var up: number = this.pictures.pictureList[this.curIndex].upvotes;\r\n    var down: number = this.pictures.pictureList[this.curIndex].downvotes;\r\n    if (!up) up = 0;\r\n    if (!down) down = 0;\r\n    var sum: number;\r\n    sum = up - down;\r\n    this.pictures.pictureList[this.curIndex].score = sum;\r\n    // console.log(sum);\r\n  }\r\n\r\n  calcComScore(up, down) {\r\n    //  console.log(\"laske score kommentille\");\r\n    // var up: number = this.picture.comments[0].upvotes;\r\n    //var down: number = this.picture.comments[0].downvotes;\r\n    if (!up) up = 0;\r\n    if (!down) down = 0;\r\n    var sum: number;\r\n    sum = up - down;\r\n    this.comScore = sum;\r\n    return sum;\r\n  }\r\n\r\n\r\n  votePicture(ud) {\r\n    if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n\r\n      console.log('trying to vote picture');\r\n      var reVoter = false;\r\n      if (this.pictures.pictureList[this.curIndex].hasVotedDown || this.pictures.pictureList[this.curIndex].hasVotedUp) {\r\n        reVoter = true;\r\n      }\r\n      this.pictures.pictureList[this.curIndex].hasVotedDown = true;\r\n      this.pictures.pictureList[this.curIndex].hasVotedUp = true;\r\n      this.pictures.votePic(this.pictures.pictureList[this.curIndex]._id, ud, reVoter).then(res => {\r\n        console.log(res);\r\n        console.log(\"äänestys onnistui\");\r\n        this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n      });\r\n    } else this.user.loginAlert();\r\n  }\r\n\r\n  voteComment(ud, _id, comIndex) {\r\n    if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n      var reVoter = false;\r\n      if (this.pictures.pictureList[this.curIndex].comments[comIndex].hasVotedDown || this.pictures.pictureList[this.curIndex].comments[comIndex].hasVotedUp) {\r\n        reVoter = true;\r\n      }\r\n      console.log(comIndex);\r\n      this.pictures.pictureList[this.curIndex].comments[comIndex].hasVotedUp = true;\r\n      this.pictures.pictureList[this.curIndex].comments[comIndex].hasVotedDown = true;\r\n      this.pictures.voteCom(_id, ud, this.pictures.pictureList[this.curIndex]._id, reVoter).then(res => {\r\n        console.log(res);\r\n        console.log(\"äänestys onnistui\");\r\n        this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n      });\r\n    } else this.user.loginAlert();\r\n  }\r\n\r\n  trashPic(reasonToHate) {\r\n    if (!reasonToHate) {\r\n      reasonToHate = \"No reason\";\r\n    }\r\n    // var index;\r\n    console.log('picture reported');\r\n    this.pictures.trashPic(this.pictures.pictureList[this.curIndex]._id, this.user.localUser.data.userID, reasonToHate).then(res => {\r\n      console.log(res);\r\n      console.log(\"report success\");\r\n      console.log(this.pictures.pictureList);\r\n      this.pictures.pictureList.splice(this.curIndex, 1);\r\n      console.log(this.pictures.pictureList);\r\n      if (this.curIndex >= this.pictures.pictureList.length) this.curIndex = 0; // jos index menee yli taulun pituuden asetetaan nollaksi\r\n\r\n      this.pictures.pictureList[this.curIndex] = this.pictures.pictureList[this.curIndex];\r\n      this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n    });\r\n  }\r\n\r\n\r\n  popComment() {\r\n    if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n      // comment can't be empty or just space, first char can't be space if length < 3\r\n      if (this.sendComment != \"\" ) { // && (this.sendComment.length >= 2 || !(this.sendComment.indexOf(\" \") < 1))\r\n        this.pictures.postComment(this.pictures.pictureList[this.curIndex]._id, this.sendComment).then((res) => {\r\n          console.log(res);\r\n          //this.loadContent(this.picture._id);\r\n          this.sendComment = \"\";\r\n          this.loadContent(this.pictures.pictureList[this.curIndex]._id);\r\n          //  this.handleContent();\r\n        });\r\n      } else console.log(\"Invalid comment\");\r\n    } else this.user.loginAlert();\r\n  }\r\n\r\n\r\n\r\n  pushPage(name) {\r\n    if (name === \"feedi\") {\r\n      this.navCtrl.popToRoot();\r\n    } else if (name === 'camera') {\r\n      if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n        /*  this.camProvider.takePhoto().then(res =>{\r\n            console.log(res);\r\n          this.navCtrl.push(UpLoadPicPage, res);\r\n          }); //*/\r\n      } else this.user.loginAlert();\r\n    } else if (name === 'me') {\r\n      if (this.user.localUser && this.user.localUser.data.userID != \"Guest\") {\r\n        this.navCtrl.push(MePage);\r\n      } else this.user.loginAlert();\r\n    }\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pic/pic.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { User } from '../user/user';\r\n\r\n\r\n@Injectable()\r\nexport class Feedback {\r\n    data: any;\r\n    \r\n    constructor(\r\n      public http: Http,\r\n      private user:User\r\n    ) {}\r\n    \r\n      private headers = new Headers({ 'Content-Type': 'application/json' });\r\n\r\n      \r\n    postFeedback(sendFeedback) {\r\n        var data = { \r\n          'text': sendFeedback,\r\n          'userID':this.user.localUser.data.userID  \r\n        }\r\n        console.log(data)\r\n        this.http.post(this.user.address+'/feedback', JSON.stringify(data), { headers: this.headers })\r\n          .map((res: any) =>  \r\n            res.json())\r\n          .subscribe(\r\n            err => console.log(err));  \r\n    }\r\n\r\n}  \n\n\n// WEBPACK FOOTER //\n// ./src/providers/feedback/feedback.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { UpLoadPicPage } from '../up-load-pic/up-load-pic';\r\nimport { CameraPreview, CameraPreviewPictureOptions, CameraPreviewOptions } from '@ionic-native/camera-preview';\r\nimport { Injectable } from '@angular/core';\r\n// import { Crop } from 'ionic-native';\r\n\r\n\r\n@Component({\r\n  selector: 'page-cam',\r\n  templateUrl: 'cam.html',\r\n})\r\n@Injectable()\r\nexport class CamPage {\r\n  public base64Image: string;  // muuttuja kuvalle\r\n  public image_data: any = null;\r\n  public camOk: boolean = false;\r\n  constructor(public navCtrl: NavController, private camera: Camera, private cameraPreview: CameraPreview) {\r\n  }\r\n  ionViewWillLeave() {\r\n    this.closeCamera();\r\n  }\r\n  ionViewWillEnter() {\r\n   this.openCamera();\r\n  //this.takePhoto();\r\n  }\r\n\r\n\r\n\r\n// Camera Preview plugari: kameran käynntstys\r\n  openCamera() {\r\n    let cameraPreviewOpts: CameraPreviewOptions = {\r\n      x: (window.screen.width / 2) - ((window.screen.width - 20) / 2),\r\n      y: 65,\r\n      width: window.screen.width - 20,\r\n      height: window.screen.width - 20,\r\n      camera: 'rear',\r\n      tapPhoto: false,\r\n      previewDrag: false,\r\n      toBack: false,\r\n      alpha: 1\r\n    };\r\n\r\n    this.cameraPreview.startCamera(cameraPreviewOpts).then(\r\n      (res) => {\r\n        console.log(res)\r\n      },\r\n      (err) => {\r\n        console.log(err)\r\n      });\r\n    // this.cameraPreview.startCamera(cameraPreviewOpts);\r\n    //this.cameraPreview.show();\r\n    // this.cameraPreview.stopCamera();\r\n  }\r\n\r\n  // Camera Preview plugari: Kuvan otto\r\n  // NOTE: atm plugari toimii vaihtelevasti eri laitteilla\r\n  takePic() {\r\n    let pictureOpts: CameraPreviewPictureOptions = {\r\n      width: 1280,\r\n      height: 720,\r\n      quality: 85\r\n    }\r\n\r\n    this.cameraPreview.takePicture(pictureOpts).then((imageData) => { // Varsinainen kuvan otto\r\n      this.image_data = imageData;\r\n      console.log(imageData);\r\n      //   this.closeCamera ()\r\n      this.base64Image = \"data:image/jpeg;base64,\" + imageData;   // tallentaa kuvan muuttujaan base64-muodossa (teksti muotoinen kuva) \r\n      //   console.log(this.base64Image);\r\n      //   console.log(this.image_data);\r\n      this.cameraPreview.hide();\r\n      this.navCtrl.push(UpLoadPicPage, { paramPic: this.base64Image, paramData: this.image_data }); // siirtyy seuraavalle sivulle ja ottaa parametrina mukaan kuvan  \r\n    }, (err) => {\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n  pushPage() {\r\n    let tBase64Image = \" \";\r\n    let tImage_Data = \" \";\r\n    this.closeCamera()\r\n    this.navCtrl.push(UpLoadPicPage, { paramPic: tBase64Image, paramData: tImage_Data });\r\n  }\r\n\r\n  // Camera Preview plugari: kameran sammutus\r\n  closeCamera() {\r\n    this.cameraPreview.stopCamera().then(\r\n      (res) => {\r\n        console.log(res)\r\n      },\r\n      (err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  // Native Camera: kameran avaus ja kuvan otto\r\n  takePhoto() { // funktio kuvan ottamiseen\r\n    const options: CameraOptions = {  // kuvan asetukset\r\n      quality: 100,  // laatu / skaalaus\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      targetHeight: 1280, // haluttu korkeus ja leveys\r\n      targetWidth: 1280,\r\n      allowEdit:true,\r\n      saveToPhotoAlbum: true // tallennetaanko kuva puhelimeen, kuva nakyy galleriassa yms\r\n      // cameraDirection: this.camera.Direction.BACK\r\n    }\r\n    this.camera.getPicture(options).then(imageData => { // Varsinainen kuvan otto\r\n      this.image_data = imageData;\r\n      this.base64Image = \"data:image/jpeg;base64,\" + imageData;   // tallentaa kuvan muuttujaan base64-muodossa (teksti muotoinen kuva) \r\n      this.navCtrl.push(UpLoadPicPage, { paramPic: this.base64Image, paramData: this.image_data }); // siirtyy seuraavalle sivulle ja ottaa parametrina mukaan kuvan\r\n     // console.log(\"Push done! camPage\");\r\n    }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cam/cam.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { Storage } from \"@ionic/storage\"; // login credentiaalien tallennus\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { JwtHelper } from \"angular2-jwt\";\r\nimport { AlertController } from 'ionic-angular';\r\nimport { Firebase } from '@ionic-native/firebase';\r\n\r\n@Injectable()\r\nexport class User {\r\n  loginCred: any;\r\n  userId: any;\r\n  guestUser = {\r\n    data: {\r\n      ActivityStatus: \"guide.png\",\r\n      level: 0,\r\n      oddBucksBalance: 0,\r\n      points: 0,\r\n      userID: \"Guest\",\r\n      xp: 0,\r\n      longestComment: 0,\r\n      fcmPermissions:{\r\n        newComments:false\r\n      }\r\n    },\r\n    refreshToken: null,\r\n    token: null,\r\n    curPercent: 0,\r\n    deviceToken: \"\",\r\n  }\r\n  localUser = this.guestUser;\r\n  private headers = new Headers({ 'Content-Type': 'application/json' });\r\n\r\n  constructor(\r\n    public http: Http,\r\n    private googlePlus: GooglePlus,\r\n    private jwtHelper: JwtHelper,\r\n    private storage: Storage,\r\n    private alertCtrl: AlertController,\r\n    private firebase: Firebase\r\n  ) {\r\n  /*\r\n    this.firebase.getToken()\r\n    .then(token => console.log(token)) // save the token server-side and use it to push notifications to this device\r\n    .catch(error => console.error('Error getting token', error));\r\n  \r\n  this.firebase.onTokenRefresh()\r\n    .subscribe((token: string) => console.log(token));\r\n  // */\r\n\r\n  }\r\n  // backend adress\r\n  //  address = \"https://oddogleapis.com\";\r\n  //address = \"http://10.0.1.39:3000\";\r\n  address = \"https://dev.oddogleapis.com\";\r\n\r\n\r\n\r\n  // Enable notifications fro new comments\r\n  enableNotifications(){\r\n    this.firebase.onTokenRefresh()\r\n    .subscribe((token: string) =>  {\r\n      console.log(token)\r\n      this.localUser.deviceToken= token;\r\n      this.sendNotificationToken(token);\r\n    });\r\n  }\r\n\r\n  // Add token to user\r\n  sendNotificationToken(token): Promise<any>{\r\n    return this.checkTokenValidity().then(res => {\r\n      var data = {\r\n        'deviceToken': this.localUser.deviceToken,\r\n        'token': this.localUser.token\r\n      }\r\n      return this.http.put(this.address + '/updateFCMToken', JSON.stringify(data), { headers: this.headers })\r\n        .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          console.log(\"FCM token posted\");\r\n          console.log(data);\r\n          this.localUser.deviceToken=data.deviceToken;\r\n          this.storeLocalUser(this.localUser);\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  // Toggle notification type on/off\r\n  // possible types: newComments, newFollowed\r\n  // possible values: true / false\r\n  toggleNotificationType(type, value){\r\n    return this.checkTokenValidity().then(res => {\r\n      var data = {\r\n        'token': this.localUser.token,\r\n        'type': type,\r\n        'value': value\r\n      }\r\n      return this.http.post(this.address + '/toggleNotificationType', JSON.stringify(data), { headers: this.headers })\r\n        .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          console.log(\"Permissions setting changed\");\r\n          console.log(data);\r\n          this.localUser.data.fcmPermissions[data.type]=data.value;\r\n          //this.localUser.fcmPermissions=data.deviceToken;\r\n          this.storeLocalUser(this.localUser);\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n\r\n  // Alert, presented if not logged in when trying to publish something (post pic, comment etc)\r\n  loginAlert() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Login required',\r\n      message:\r\n        \"This action requires user account, please login to continue current action. You may continue using application without login but you can't take pictures, comment, vote or access profile page. <br> <br> Your google login is used only for authentication. Your personal data is not stored nor shown to other users. \",\r\n      buttons: [\r\n        {\r\n          text: \"Read more\",\r\n          handler: () => {\r\n            console.log('read more clicked');\r\n            window.open('https://www.oddogle.com/terms-of-service/');\r\n          }\r\n        },\r\n        {\r\n          text: \"Cancel\",\r\n          role: \"cancel\",\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n            this.localUser = this.guestUser;\r\n          }\r\n        }, {\r\n          text: \"Login with google\",\r\n          handler: () => {\r\n            console.log('Login clicked');\r\n            this.googleSilentLogin();\r\n          }\r\n\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n\r\n  // Alert, presented if not logged in when app opens\r\n  loginAlertSoft() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Do you want to login?',\r\n      message: \"This action requires user account, please login to continue current action. You may continue using application without login but you can't take pictures, comment, vote or access profile page. <br> <br> Your google login is used only for authentication. Your personal data is not stored nor shown to other users. \",\r\n      buttons: [\r\n        {\r\n          text: \"Read more\",\r\n          handler: () => {\r\n            console.log('read more clicked');\r\n            window.open('https://www.oddogle.com/terms-of-service/');\r\n          }\r\n        },\r\n        {\r\n          text: \"Cancel\",\r\n          role: \"cancel\",\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n            this.localUser = this.guestUser;\r\n          }\r\n        }, {\r\n          text: \"Login with google\",\r\n          handler: () => {\r\n            console.log('Login clicked');\r\n            this.googleSilentLogin();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  /* ---  Functions for (google) logins etc --- */\r\n\r\n  // Login with google account and save userId locally\r\n  // also get user data for that id (or create new account)\r\n  googleLogin(): Promise<any> {\r\n    console.log(\"trying regular login \");\r\n    return this.googlePlus.login({\r\n      // 'androidClientId': 'AIzaSyCMVRCFWxZsT_rEgKm7V1KVy5GLkqmLm6E'\r\n      'webClientId': '323555438273-s6v7hjv7nn260sraj2d8vi5lesqhjen6.apps.googleusercontent.com'\r\n      // ,'offline': false\r\n    })\r\n      .then(res => {\r\n        // if success, save userId to local storage\r\n        //this.storeUserId(res);\r\n        console.log(res);\r\n        this.authenticateUser(res.idToken);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error occured during login, try again?\");\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  // Google silent login if needed\r\n  googleSilentLogin(): Promise<any> {\r\n    console.log(\"trying silent login \");\r\n    return this.googlePlus.trySilentLogin({\r\n      //  'androidClientId': 'AIzaSyCMVRCFWxZsT_rEgKm7V1KVy5GLkqmLm6E'\r\n      'webClientId': '323555438273-s6v7hjv7nn260sraj2d8vi5lesqhjen6.apps.googleusercontent.com'\r\n    })\r\n      .then(res => {\r\n        // if success, get user data from server\r\n        //  this.storeUserId(res);\r\n        console.log(\"silent login success\");\r\n        //console.log(res);\r\n        return this.authenticateUser(res.idToken);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        console.log(\"silent login failed, trying regular login\");\r\n        // if silent login fails, use regular login\r\n        return this.googleLogin();\r\n      });\r\n  }\r\n\r\n  // save user data to local storage\r\n  storeLocalUser(data) {\r\n    this.localUser = data;\r\n    this.storage.set('localUser', data);\r\n    //console.log(this.localUser);\r\n  }\r\n\r\n  // logout and remove userdata from local storage\r\n  googleLogout() {\r\n    this.localUser = this.guestUser;\r\n    this.googlePlus.logout()\r\n      .then(res => {\r\n        console.log(res);\r\n        //this.userId = \"\";\r\n        //this.storage.remove('userId');\r\n        // this.localUser = \"\";\r\n        this.storage.remove('localUser');\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        //this.userId = \"\";\r\n        //this.storage.remove('userId');\r\n        //   this.localUser = \"\";\r\n        this.storage.remove('localUser');\r\n      });\r\n  }\r\n\r\n  // Get userdata from backend/DB for user logged in\r\n  // needs google id token\r\n  authenticateUser(token): Promise<any> {\r\n    var data = {\r\n      id_token: token\r\n    }\r\n    //console.log(data)\r\n    return this.http.post(this.address + '/authUser', JSON.stringify(data), { headers: this.headers })\r\n      .map(res => res.json())\r\n      .toPromise()\r\n      .then(data => {\r\n        this.localUser = data;\r\n        console.log(\"User authenticated & data acquired from server.\");\r\n        console.log(this.localUser);\r\n        this.localUser.curPercent = 0;\r\n        this.storeLocalUser(this.localUser);\r\n        return;\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        return;// error.json();\r\n      });\r\n  }\r\n\r\n  // get data from local storage\r\n  getLocalUserData() {\r\n    this.storage.ready().then(() => {\r\n      this.storage.get('localUser').then(res => {\r\n        if (res && res.data.userID != \"Guest\") {\r\n          console.log(\"Local user loaded!\");\r\n          this.localUser = res;\r\n          console.log(this.localUser);\r\n          if (this.localUser.token === null) { // if token null, ask to login\r\n            this.loginAlertSoft();\r\n          }\r\n        } else {\r\n          console.log(\"No localUser, login required\")\r\n          this.loginAlertSoft();\r\n        }\r\n      }).catch(console.log);\r\n    });\r\n  }\r\n\r\n  // Make sure token is valid for atleast 1 minute,\r\n  // if not refresh token using refreshToken\r\n  checkTokenValidity(): Promise<any> {\r\n\r\n    var lToken = this.jwtHelper.decodeToken(this.localUser.token);\r\n    var curTime = (Date.now() / 1000);\r\n    curTime = curTime + 60;\r\n    //console.log(\"Current time: \" + curTime);\r\n    //console.log(\"Exp time: \" + lToken.exp);\r\n    if (lToken.exp <= curTime) {\r\n      console.log(\"Token expired / about to expire. Time to get new.\");\r\n      //console.log(this.localUser);\r\n      return this.refreshToken()\r\n        .then(res => {\r\n          if (res) this.checkTokenValidity(); //\r\n          else { // if refresh fails login using google and get new tokens\r\n            console.log(\"Token refresh failed, login using google.\");\r\n            return this.googleSilentLogin().then(res => {\r\n              this.checkTokenValidity();\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      console.log(\"Token OK to use.\");\r\n      //return some empty promise to resolve succesfull validity check\r\n      return new Promise(resolve => { resolve(); });\r\n    }\r\n    //this.checkTokenValidity();'\r\n\r\n  }\r\n\r\n  refreshToken(): Promise<any> {\r\n    if (this.localUser.token && this.localUser.refreshToken) {\r\n      var data = {\r\n        token: this.localUser.token,\r\n        refreshToken: this.localUser.refreshToken\r\n      }\r\n      //console.log(data)\r\n      return this.http.post(this.address + '/token', JSON.stringify(data), { headers: this.headers })\r\n        .map(res => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          //console.log(lToken);\r\n          this.localUser.token = data.token;\r\n          console.log(\"User token updated\");\r\n          console.log(this.localUser);\r\n          return true;\r\n        })\r\n        .catch(error => {\r\n          console.log(\"Token update failed with error:\");\r\n          console.log(error);\r\n          //this.googleSilentLogin();// error.json()\r\n          return false;\r\n        });\r\n    } else {\r\n      return new Promise(resolve => { resolve(); });\r\n    }\r\n  }\r\n\r\n\r\n  getUserData(): Promise<any> {\r\n    return this.checkTokenValidity().then(res => { //});\r\n      console.log(\"Sending request for user data\");\r\n      var data = {\r\n        token: this.localUser.token\r\n      };\r\n      //console.log(data);      \r\n      return this.http.post(this.address + '/getUser', JSON.stringify(data), { headers: this.headers })\r\n        .map(res => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          this.localUser.data = data;\r\n          if (!this.localUser.curPercent) {\r\n            console.log(\"Set cur Percent to 0\");\r\n            this.localUser.curPercent = 0;\r\n          }\r\n          console.log(\"User data acquired from server.\");\r\n          console.log(this.localUser);\r\n          this.storeLocalUser(this.localUser);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // return;// error.json();\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n  /* // Oldish registration system, currentry not in use \r\n    register(name, password, email, age, gender, terms): Promise<any> {\r\n    var data = {\r\n      'userID': name,\r\n      'password': password,\r\n      'email': email,\r\n      'age': age,\r\n      'gender': gender,\r\n      // 'points' : 0,\r\n      'termsAccepted': terms\r\n    }\r\n    // console.log('http://46.101.110.105:3001/user' + name + password + email + age + gender);\r\n    return this.http.post('http://localhost:3001/user', JSON.stringify(data), { headers: this.headers })\r\n      // .map((res: any) => res.json())\r\n      .toPromise()\r\n      .then(status => {\r\n        //this.loginCred = loginCred;\r\n        console.log(status);\r\n        return status.json();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        return error.json();\r\n      });\r\n  }\r\n\r\n  login(userID, password): Promise<any> {\r\n    var data = {\r\n      'userID': userID,\r\n      'password': password\r\n    }\r\n    console.log(data);\r\n    //  return new Promise(resolve => {    \r\n    return this.http.post('http://localhost:3001/authenticate/', JSON.stringify(data), { headers: this.headers })\r\n      //  .map(res => res.json())\r\n      .toPromise()\r\n      .then(loginCred => {\r\n        //this.loginCred = loginCred;\r\n        console.log(loginCred);\r\n        return loginCred.json();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        return error.json();\r\n      });\r\n    // });\r\n  }\r\n  // */\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n//import {enableProdMode} from '@angular/core';\r\n\r\nimport { AppModule } from './app.module';\r\n//enableProdMode();\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { MyApp } from './app.component';\r\nimport { TabsComponent } from '../components/tabs/tabs';\r\n// Angular/ionic plugins\r\nimport { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { HttpModule } from '@angular/http';\r\nimport { JsonpModule } from '@angular/http';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { CameraPreview } from '@ionic-native/camera-preview';\r\nimport { IonicStorageModule } from \"@ionic/storage\";\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { JwtHelper } from \"angular2-jwt\";\r\nimport { Firebase } from '@ionic-native/firebase';\r\n//import { ScreenOrientation } from '@ionic-native/screen-orientation';\r\n\r\n\r\n// Pages:\r\n//import { CommentFormPage } from '../pages/comment-form/comment-form'\r\n//import { SignupPage } from '../pages/signup/signup';\r\nimport { CamPage } from '../pages/cam/cam';\r\nimport { FeediPage } from '../pages/feedi/feedi';\r\nimport { PicPage } from '../pages/pic/pic';\r\nimport { UpLoadPicPage } from '../pages/up-load-pic/up-load-pic';\r\nimport { MePage } from '../pages/me/me';\r\nimport { HomePage } from '../pages/home/home';\r\n//import { SettingsPage } from './../pages/settings-page/settings-page';\r\n\r\n// Providers\r\nimport { Pictures } from '../providers/pictures/pictures';\r\nimport { User } from '../providers/user/user';\r\nimport { CameraProvider } from '../providers/camera/camera';\r\nimport { Feedback } from '../providers/feedback/feedback';\r\n\r\n//8.11.2017\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    CamPage,\r\n    FeediPage,\r\n    PicPage,\r\n    UpLoadPicPage,\r\n    MePage,\r\n    HomePage,\r\n    TabsComponent,\r\n    //SettingsPage\r\n    //SignupPage,\r\n    //CommentFormPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    JsonpModule,\r\n    IonicStorageModule.forRoot(),\r\n    IonicModule.forRoot(MyApp),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    CamPage,\r\n    FeediPage,\r\n    PicPage,\r\n    UpLoadPicPage,\r\n    MePage,\r\n    TabsComponent,\r\n    HomePage,\r\n    //SettingsPage\r\n    //SignupPage,\r\n    //CommentFormPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Pictures,\r\n    User,\r\n    Camera,\r\n    CameraPreview,\r\n    // Login,\r\n    Feedback,\r\n    JwtHelper,\r\n    GooglePlus,\r\n    Firebase,\r\n    CameraProvider,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ]\r\n})\r\nexport class AppModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { MenuController } from 'ionic-angular';\r\n//import { TabsComponent } from '../components/tabs/tabs';\r\n//import firebase from 'firebase'; \r\nimport { FeediPage } from '../pages/feedi/feedi';\r\nimport { Pictures } from '../providers/pictures/pictures';\r\nimport { User } from '../providers/user/user'\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n\r\n  rootPage: any = FeediPage; // määrittää feedi-sivun rootsivuksi\r\n  \r\n  constructor(\r\n    platform: Platform,\r\n    statusBar: StatusBar,\r\n    splashScreen: SplashScreen,\r\n    public pictureService: Pictures,\r\n    public user: User,\r\n    public menuCtrl: MenuController\r\n  ) {\r\n    platform.ready().then(() => {\r\n      statusBar.styleLightContent();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Pictures } from './../../providers/pictures/pictures';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ViewController, NavParams } from 'ionic-angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { User } from '../../providers/user/user';\r\n\r\n@Component({\r\n  selector: 'page-comment-form',\r\n  templateUrl: 'comment-form.html',\r\n})\r\nexport class CommentFormPage {\r\n  public commentForm: FormGroup;\r\n  private picId;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private formBuilder: FormBuilder,\r\n    private user: User,\r\n    private viewCtrl: ViewController,\r\n    private pictures: Pictures,\r\n\r\n  ) {\r\n    this.picId = this.navParams.get('pId');\r\n    // luodaan formi \r\n    this.commentForm = this.formBuilder.group({\r\n      // ---- username input ja sen ehdot\r\n      comment: ['', Validators.compose([\r\n        Validators.maxLength(500),\r\n        Validators.minLength(0),\r\n        Validators.required\r\n      ])]\r\n    });\r\n    console.log(\"comment page constr\");\r\n  }\r\n\r\n  logForm() {\r\n    console.log(this.commentForm.value)\r\n    this.pictures.postComment(\r\n      this.picId,\r\n      this.commentForm.value.comment\r\n    ).then(res => {\r\n      console.log(res);\r\n      this.viewCtrl.dismiss();\r\n      return res;\r\n      \r\n    });\r\n  }\r\n\r\n  validation_messages = {\r\n    'comment': [\r\n      { type: 'required', message: 'Comment is required.' },\r\n      { type: 'minlength', message: 'Comment is too short.' },\r\n      { type: 'maxlength', message: 'Comment is too long.' }\r\n    ]\r\n  }\r\n\r\n  popView() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comment-form/comment-form.ts","import { Component } from '@angular/core';\r\n\r\nimport { MePage } from '../../pages/me/me'\r\n\r\nimport { FeediPage } from '../../pages/feedi/feedi'\r\n\r\nimport { CamPage } from \"../../pages/cam/cam\";\r\n\r\n// importataan sivut tabeja varten\r\n\r\n@Component({\r\n\r\n  selector: 'tabs',\r\n\r\n  templateUrl: 'tabs.html'\r\n\r\n})\r\n\r\nexport class TabsComponent {\r\n\r\n  text: string;\r\n\r\n  tab1Root = FeediPage;\r\n\r\n  tab2Root = CamPage; // määritetään tabeille sivut\r\n\r\n  tab3Root = MePage;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tabs/tabs.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n\r\n  constructor(public navCtrl: NavController) {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/toPromise';\r\n//import { JwtHelper } from \"angular2-jwt\";\r\nimport { User } from \"../user/user\"\r\n// 8.11.2017\r\n//import { Jsonp } from '@angular/http';\r\n\r\n@Injectable()\r\nexport class Pictures {\r\n  data: any;\r\n  dataLocal: any;\r\n  public pictureList = [];\r\n  public loading: boolean;\r\n  feedType: string = \"default\";\r\n\r\n  //address = \"https://oddogleapis.com\";\r\n  // address = \"http://10.0.1.39:3000\";\r\n  address = \"https://dev.oddogleapis.com\";\r\n\r\n\r\n  constructor(\r\n    public http: Http,\r\n    // private jwtHelper: JwtHelper,\r\n    private user: User\r\n    /*private _jsonp: Jsonp*/\r\n  ) {\r\n    this.data = null;\r\n    this.dataLocal = null;\r\n  }\r\n  private headers = new Headers({ 'Content-Type': 'application/json' });\r\n\r\n  loadFeed(): Promise<any> {\r\n    this.loading = true;\r\n    //  console.log(this.login.localUser);\r\n    // Hae kuvat ja niiden data\r\n    var date\r\n    if (this.pictureList.length > 0) { // jos on jo ennestään haetaan vain uudet kuvat\r\n      date = this.pictureList[0].dateTime\r\n    return this.getNewPictures(date).then((data) => {\r\n        var tempArray;\r\n        console.log(\"Number of new pics: \" + data.length);\r\n        if (data.length == 0) { this.loading = false; return; } // jos ei tulekaan uusia kuvia\r\n        console.log(data);\r\n        tempArray = data;\r\n        for (var n = 0; n < tempArray.length; n++) {\r\n          this.pictureList.unshift(tempArray[n]);\r\n        }\r\n        //this.pictureList=this.tempArray;\r\n        this.pictureList = this.checkForHaters(this.pictureList);\r\n        this.loading = false;\r\n      });\r\n    } else { // jos kuvia ei ennestään haetaan viimeisimmät\r\n      console.log(\"Get feed..\");\r\n    return this.getPictures(this.feedType).then((data) => {\r\n        console.log(data);\r\n        this.pictureList = data;\r\n        this.pictureList = this.checkForHaters(this.pictureList);\r\n        // kun feedi haettu tarkista käyttäjäs\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  extendPictures(): Promise<any> {\r\n    this.loading = true;\r\n    if (this.pictureList.length == 0) {\r\n      this.loadFeed();\r\n      return new Promise(resolve => { resolve(); });\r\n    }\r\n    console.log((this.pictureList[this.pictureList.length - 1].dateTime));\r\n    return this.getOlderPictures(this.pictureList[this.pictureList.length - 1].dateTime).then((data) => {\r\n      console.log(\"Number of older pics: \" + data.length);\r\n      console.log(data);\r\n      for (var n = 0; n < data.length; n++) {\r\n        this.pictureList.push(data[n]);\r\n      }\r\n      console.log(this.pictureList);\r\n      this.pictureList = this.checkForHaters(this.pictureList);\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  checkForHaters(array): any[] {\r\n    console.log(\"User: \"+ this.user.localUser.data.userID);\r\n    console.log(\"Array length: \"+array.length);\r\n    if (this.user.localUser && this.user.localUser.data.userID ) { // && this.user.localUser.data.userID != \"Guest\"\r\n    for (var i = 0; i < array.length; i++) {\r\n      //console.log(i);\r\n      //console.log(array[i]);\r\n      /* //laske score kuvalle, score tulee backendistä\r\n        var up: number = array[i].upvotes;\r\n        var down: number = array[i].downvotes;\r\n        if (!up) up = 0;\r\n        if (!down) down = 0;\r\n        array[i].score = up - down;\r\n      */\r\n       // console.log(\"check index \" + i)\r\n        if (array[i] && array[i].haters) {\r\n             \r\n         //   console.log(array[i].haters);\r\n          for (var h = 0; h < array[i].haters.length; h++) {\r\n            if (array[i].haters[h] === this.user.localUser.data.userID) {\r\n              console.log(\"pic removed from list\");\r\n              array.splice(i, 1);\r\n              h = 0;\r\n              if (i >0) {\r\n                i--;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    console.log(\"User: \"+ this.user.localUser.data.userID);\r\n    return array;\r\n  }\r\n\r\n\r\n  // http://localhost:3000/comments\r\n  // http://46.101.110.105:3000/comments/\r\n  getPictures(type): Promise<any> {\r\n    return new Promise(resolve => {\r\n      // for users own pictures add userID to url\r\n      if(type===\"myPics\" || type===\"followedPics\"){\r\n        type = type +\"&\" + this.user.localUser.data.userID;\r\n      }\r\n      this.http.get(this.address + '/pictures/' + type)\r\n        .map(res => res.json())\r\n        .subscribe(data => {\r\n          //console.log(data);\r\n          resolve(data);\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  getNewPictures(date): Promise<any> {\r\n    if (this.feedType === \"default\") {\r\n      return new Promise(resolve => {\r\n        this.http.get(this.address + '/pictures/new/' + date)\r\n          .map(res => res.json())\r\n          .subscribe(data => {\r\n            this.data = data;\r\n            //console.log(data);\r\n            resolve(data);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise(resolve => { resolve({}); });\r\n    }\r\n  }\r\n\r\n  getOlderPictures(date): Promise<any> {\r\n    if (this.feedType === \"default\") {\r\n      return new Promise(resolve => {\r\n        this.http.get(this.address + '/pictures/more/' + date)\r\n          .map(res => res.json())\r\n          .subscribe(data => {\r\n            //console.log(data);\r\n            resolve(data);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise(resolve => { resolve({}); });\r\n    }\r\n  }\r\n\r\n  getPicture(_id): Promise<any> {\r\n    //  console.log('https://oddogleapis.com/pictures/' + _id);\r\n    return new Promise(resolve => {\r\n      this.http.get(this.address + '/picture/' + _id + \"&\" + this.user.localUser.data.userID) //tällä kestää aikaa, tapahtuu kun kerkee\r\n        .map(res => res.json())\r\n        .subscribe(dataLocal => {\r\n          resolve(dataLocal);\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  postPictures(fname, Header, picture, fdate): Promise<any> {\r\n    return this.user.checkTokenValidity().then(res => {\r\n      var data = {\r\n        'pic': picture,\r\n        'title': Header,\r\n        'name': fname,\r\n        'date': fdate,\r\n        'token': this.user.localUser.token\r\n      }\r\n      //   console.log('http://46.101.110.105:3000/pictures' + fname + Header + flink + fdate)\r\n      return this.http.post(this.address + '/postPicture', JSON.stringify(data), { headers: this.headers })\r\n        //  .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          console.log(\"picture posted\");\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  postComment(pic_id, sendComment): Promise<any> {\r\n    return this.user.checkTokenValidity().then(res => {\r\n      var data = {\r\n        'id': pic_id,\r\n        'comment': sendComment,\r\n        'token': this.user.localUser.token,\r\n        'curLongestComment': this.user.localUser.data.longestComment\r\n      }\r\n      // console.log('http://46.101.110.105:3000/comments/' + _id + sendComment)\r\n      return this.http.put(this.address + '/postComment', JSON.stringify(data), { headers: this.headers })\r\n        .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          console.log(\"comment posted\");\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n  votePic(_id, ud, reVoter): Promise<any> { //ud = up/down\r\n    return this.user.checkTokenValidity().then(res => {\r\n      console.log(\"token check done???!!?!?\");\r\n      var data = {\r\n        \"type\": ud,\r\n        \"token\": this.user.localUser.token,\r\n        \"reVoter\": reVoter\r\n      }\r\n      console.log(_id);\r\n      console.log(data);\r\n      //console.log(userID);\r\n      return this.http.put(this.address + '/pictures/vote/' + _id, JSON.stringify(data), { headers: this.headers })\r\n        .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          //console.log(\"mäoontäällä\");\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  voteCom(_id, ud, pId, reVoter): Promise<any> { //ud = up/down\r\n    return this.user.checkTokenValidity().then(res => {\r\n      var data = {\r\n        \"type\": ud,\r\n        \"picId\": pId,\r\n        \"token\": this.user.localUser.token,\r\n        \"reVoter\": reVoter\r\n      }\r\n      console.log(\"Token checked and ok to use!\")\r\n      console.log(_id);\r\n      console.log(data);\r\n      return this.http.put(this.address + '/comments/vote/' + _id, JSON.stringify(data), { headers: this.headers })\r\n        .map((res: any) => res.json())\r\n        .toPromise()\r\n        .then(data => {\r\n          console.log(\"comment vote success\");\r\n          console.log(data);\r\n\r\n          return data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  trashPic(_id, userID, reason): Promise<any> { //ud = up/down\r\n    var data = {\r\n      \"userID\": userID,\r\n      \"reason\": reason,\r\n      \"picId\": _id\r\n    }\r\n    console.log(_id);\r\n    console.log(userID);\r\n    return this.http.post(this.address + '/pictures/report', JSON.stringify(data), { headers: this.headers })\r\n      .map((res: any) => res.json())\r\n      .toPromise()\r\n      .then(data => {\r\n        console.log(\"pic reported\");\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        console.log(\"error\");\r\n      });\r\n  }\r\n\r\n} \n\n\n// WEBPACK FOOTER //\n// ./src/providers/pictures/pictures.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { UpLoadPicPage } from '../up-load-pic/up-load-pic';\r\nimport { Feedback } from '../../providers/feedback/feedback';\r\nimport { User } from '../../providers/user/user';\r\nimport { CameraProvider } from '../../providers/camera/camera'\r\n\r\n@Component({\r\n  selector: 'page-me',\r\n  templateUrl: 'me.html'\r\n})\r\nexport class MePage {\r\n  sendFeedback: String;\r\n  sections;\r\n  // Set profile pic according to user activityStatus\r\n  //assets/avatars_sq/author2.png  or assets/avatars_round/{{user.localUser.data.ActivityStatus}}\r\n  percent: number = 0; //= 100 * this.user.localUser.data.xp / (10 * ((1 + this.user.localUser.data.level / 10) ** 2));\r\n  persentString: String; //= this.percent * 100 + \"%\";\r\n  xpToNextLvl: number; //= Math.round((10 * ((1 + this.user.localUser.data.level / 10) ** 2)) - this.user.localUser.data.xp);\r\n  //curPercent: number = 0;\r\n  xpRequired:number;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private camera: Camera,\r\n    private user: User,\r\n    private feedback: Feedback,\r\n    private camProvider: CameraProvider\r\n\r\n  ) { /*\r\n    if (login.localUser) {\r\n      login.getUserData();\r\n      this.user = login.localUser;\r\n    } else login.loginPrompt().then((res)=>{\r\n    console.log(res);\r\n    this.user = login.localUser;\r\n    }); */\r\n    this.sections = \"Profile\", \"Feedback\";\r\n  }\r\n\r\n  xpPercent(): any {\r\n    //console.log(\"Showing percentage metre: \"+ this.user.localUser.curPercent )\r\n    return { 'width': this.user.localUser.curPercent + '%' }; //return { 'width': this.percent + '%' };\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    // this.user.getLocalUserData();\r\n    //console.log(this.user.localUser);\r\n    console.log(this.user.localUser);\r\n    console.log(this.user.localUser.curPercent);\r\n    this.user.getUserData().then(res => {\r\n      this.xpRequired= (10 * ((1 + this.user.localUser.data.level / 10) ** 2));\r\n      this.percent = Math.round(100 * this.user.localUser.data.xp / this.xpRequired);\r\n      this.xpToNextLvl= Math.round(this.xpRequired - this.user.localUser.data.xp);\r\n      console.log(this.user.localUser.curPercent);\r\n      //this.xpToNextLvl = 100-this.user.localUser.curPercent;\r\n      console.log(\"XP to next lvl: \" + this.xpToNextLvl);\r\n      this.countPercent();\r\n      console.log(\"XP meter: \" + this.percent + '%');\r\n      \r\n    //  console.log(\"curP after counter: \"+ this.user.localUser.curPercent);\r\n    });\r\n\r\n  }\r\n\r\n  async countPercent() {\r\n    var counterTarget = this.percent;\r\n    console.log(\"curP pre counter: \" + this.user.localUser.curPercent);\r\n    console.log(\"T pre counter: \" + counterTarget);\r\n    if (counterTarget < this.user.localUser.curPercent) {\r\n      console.log(\"Set counterTarget to 100\"); // jos tullut lvl up jolloin target < curPercent -> ladataan palkki täyteen\r\n      counterTarget = 100;} \r\n    for (; this.user.localUser.curPercent < counterTarget;) {\r\n    //  console.log(\"curP in counter: \"+ this.user.localUser.curPercent);\r\n\r\n      this.user.localUser.curPercent = this.user.localUser.curPercent + 0.5;\r\n      this.xpToNextLvl = Math.round(this.xpRequired -(this.xpRequired * (this.user.localUser.curPercent/100)));\r\n    //  console.log(\"curP in counter l2: \"+ this.user.localUser.curPercent);\r\n      await this.delay(10);\r\n    //  console.log(\"curP in counter l3: \"+ this.user.localUser.curPercent);\r\n      if (this.user.localUser.curPercent === 100 && counterTarget <= this.user.localUser.curPercent) {  // kun curP = 100 ja target on pienenmpi\r\n        console.log(\"Start loading from 0\");\r\n        counterTarget = this.percent;\r\n        this.user.localUser.curPercent = 0;\r\n        console.log(\"curP after 100: \" + this.user.localUser.curPercent);\r\n        console.log(\"T after 100: \" + counterTarget);\r\n      }\r\n   //   console.log(this.user.localUser);\r\n    }\r\n    this.xpToNextLvl= Math.round(this.xpRequired - this.user.localUser.data.xp);\r\n    this.user.storeLocalUser(this.user.localUser);\r\n  }\r\n\r\n  delay(ms: number) {\r\n  //  console.log(\"Delaying: \"+ms+\" ms\")\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  pushPage(name) {\r\n    if (name === \"feedi\") {\r\n      this.navCtrl.popToRoot();\r\n    } else if (name === 'camera') {\r\n      this.camProvider.takePhoto().then(res => {\r\n        console.log(\"CAmera result:\");\r\n        console.log(res);\r\n        if (res) this.navCtrl.push(UpLoadPicPage, res);\r\n      });\r\n    } else if (name === 'me') {\r\n      this.navCtrl.push(MePage);\r\n    }\r\n  }\r\n\r\n  popFeedback() {\r\n    this.feedback.postFeedback(this.sendFeedback);\r\n    this.navCtrl.popToRoot();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/me/me.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n//import firebase from 'firebase';\r\nimport 'rxjs/add/operator/map';\r\nimport { Pictures } from '../../providers/pictures/pictures';\r\nimport { AlertController } from 'ionic-angular';\r\n// import { CamPage } from '../cam/cam';\r\nimport { User} from '../../providers/user/user';\r\n\r\n@Component({\r\n  selector: 'page-up-load-pic',\r\n  templateUrl: 'up-load-pic.html'\r\n})\r\nexport class UpLoadPicPage {\r\n  public uploading: boolean= false;\r\n  myPhoto: any = \"\";\r\n  parameterPic: string; // Parametrina saatava kuva, joka naytetaan sivulla\r\n  myPhotosRef: any;\r\n // storageRef = firebase.storage().ref(); // firebas stroage referenssi\r\n  data: any;\r\n  fdate: string;\r\n  fname: string;\r\n  //pictures = [];\r\n  Header: string = \"What is this?\";\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    private alertCtrl: AlertController,\r\n    private user:User,\r\n    //private http: Http,\r\n    private Pictures: Pictures) { // navParams mahdollistaa tiedon siirron parametrina sivulta toiselle siirryttäessä\r\n    this.parameterPic = this.navParams.get('paramPic'); // kuva parametrin maaritys\r\n    this.myPhoto = this.navParams.get('paramData');\r\n  //  this.myPhotosRef = firebase.storage().ref('/Photos/');\r\n    this.parameterPic = \"data:image/jpeg;base64,\" + this.myPhoto;\r\n    this.data = null;\r\n    this.generateFolderName();// pvm lyempään muotoon\r\n    this.generateUUID(); // generoi random UUID pvm perusteella\r\n    // this.uploadPhoto();\r\n    if(!this.myPhoto)  this.undefImg();\r\n  }\r\n\r\n\r\n\r\n  // Tekee kansiolle nimen pvm mukaan esim: \"2017-12-20\"\r\n  generateFolderName(): string {\r\n    //var d: string;\r\n    console.log(\"Push done! upload 2\");\r\n    var d = new Date().toISOString().split('T');\r\n    this.fdate = d[0];\r\n    return d[0];\r\n  }\r\n\r\n  // generoi randomin UUID:n pvm pohjalta\r\n  generateUUID(): string {\r\n    console.log(\"Push done! upload 3\");\r\n    var d = new Date().getTime();\r\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx'.replace(/[xy]/g, function (c) {\r\n      var r = (d + Math.random() * 16) % 16 | 0;\r\n      d = Math.floor(d / 16);\r\n      return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n    this.fname = uuid + \".jpeg\";\r\n    return uuid;\r\n  }\r\n\r\n  popView() {\r\n  // this.getPhotoURL().then((url) => {\r\n    this.uploading = true;\r\n    this.Pictures.postPictures(this.fname, this.Header , this.parameterPic, this.fdate)\r\n    .then((res)=>{\r\n      console.log(res);\r\n      this.navCtrl.popToRoot(); // palauttaa juuri näkymään\r\n      this.uploading = false;\r\n    });  \r\n  // });\r\n  }\r\n  undefImg(){\r\n    this.navCtrl.popToRoot(); // palauttaa juuri näkymään\r\n    this.uploading = false;\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Error...',\r\n      subTitle: \"Something went wrong with the picture process. If you were taking a photo, you should try again.\",\r\n      buttons: [\r\n         {\r\n          text: \"OK\",\r\n          handler: () => {\r\n            console.log('OK clicked');\r\n          }\r\n\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/up-load-pic/up-load-pic.ts"],"sourceRoot":""}